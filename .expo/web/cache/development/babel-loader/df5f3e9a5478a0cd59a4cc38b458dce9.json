{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport config from \"../config\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nfunction authAPI(_x, _x2, _x3, _x4, _x5) {\n  return _authAPI.apply(this, arguments);\n}\nfunction _authAPI() {\n  _authAPI = _asyncToGenerator(function* (method, path, data, callback, errorCallback) {\n    var token = yield AsyncStorage.getItem('token', '');\n    var link = config.domain + '/api/v2/' + path + '?api_token=' + token;\n    console.log(link);\n    var sendParam = {\n      method: method,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n    if (method == \"POST\") {\n      sendParam.body = JSON.stringify(data);\n    }\n    fetch(link, sendParam).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      if (responseJson.status) {\n        callback(responseJson.data ? responseJson.data : responseJson);\n      } else {\n        var message = \"\";\n        if (responseJson.message != undefined) {\n          message += responseJson.message;\n        }\n        if (responseJson.errMsg != undefined) {\n          message += \" \" + responseJson.errMsg;\n        }\n        errorCallback(message);\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  });\n  return _authAPI.apply(this, arguments);\n}\nexports.authAPI = authAPI;\nfunction publicAPI(_x6, _x7, _x8, _x9, _x10) {\n  return _publicAPI.apply(this, arguments);\n}\nfunction _publicAPI() {\n  _publicAPI = _asyncToGenerator(function* (method, path, data, callback, errorCallback) {\n    var link = config.domain + '/api/v2/' + path;\n    console.log(link);\n    console.log(method);\n    var sendParam = {\n      method: method,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n    if (method == \"POST\") {\n      sendParam.body = JSON.stringify(data);\n    }\n    console.log(link);\n    console.log(sendParam);\n    fetch(link, sendParam).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      if (responseJson.status) {\n        callback(responseJson.data ? responseJson.data : responseJson);\n      } else {\n        var message = \"\";\n        if (responseJson.message != undefined) {\n          message += responseJson.message;\n        }\n        if (responseJson.errMsg != undefined) {\n          message += \" \" + responseJson.errMsg;\n        }\n        console.log(message);\n        console.log(responseJson);\n        errorCallback(message);\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  });\n  return _publicAPI.apply(this, arguments);\n}\nexports.publicAPI = publicAPI;","map":{"version":3,"names":["config","AsyncStorage","authAPI","method","path","data","callback","errorCallback","token","getItem","link","domain","console","log","sendParam","headers","Accept","body","JSON","stringify","fetch","then","response","json","responseJson","status","message","undefined","errMsg","catch","error","exports","publicAPI"],"sources":["C:/Users/munya/OneDrive/Desktop/.EXE/app2/services/api_callers.js"],"sourcesContent":["import config from '../config';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nasync function authAPI(method,path,data,callback,errorCallback){\n    var token = await AsyncStorage.getItem('token','');\n    var link=config.domain+'/api/v2/'+path+'?api_token='+token;\n    console.log(link);\n \n    var sendParam={\n        method: method,\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        }\n      };\n    if(method==\"POST\"){\n        sendParam.body=JSON.stringify(data);\n    }\n\n    fetch(link, sendParam).then((response) => response.json()).then((responseJson) => {\n     if(responseJson.status){\n      callback(responseJson.data?responseJson.data:responseJson);\n     }else{\n        var message=\"\";\n        if(responseJson.message!=undefined){\n          message+=responseJson.message;\n        }\n        if(responseJson.errMsg!=undefined){\n          message+=\" \"+responseJson.errMsg;\n        }\n        errorCallback(message);\n     } \n   }).catch(error => {\n     console.error(error);\n   });\n}\nexports.authAPI=authAPI;\n\n\n/**\n * \n * @param {*} method \n * @param {*} path \n * @param {*} data \n * @param {*} callback \n * @param {*} errorCallback \n */\nasync function publicAPI(method,path,data,callback,errorCallback){\n  var link=config.domain+'/api/v2/'+path;\n  console.log(link);\n  console.log(method);\n\n  var sendParam={\n      method: method,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      }\n    };\n  if(method==\"POST\"){\n      sendParam.body=JSON.stringify(data);\n  }\n  console.log(link);\n  console.log(sendParam);\n  fetch(link, sendParam).then((response) => response.json()).then((responseJson) => {\n   if(responseJson.status){\n    callback(responseJson.data?responseJson.data:responseJson);\n   }else{\n      var message=\"\";\n      if(responseJson.message!=undefined){\n        message+=responseJson.message;\n      }\n      if(responseJson.errMsg!=undefined){\n        message+=\" \"+responseJson.errMsg;\n      }\n      console.log(message);\n      console.log(responseJson);\n      errorCallback(message);\n   } \n }).catch(error => {\n   console.error(error);\n });\n}\nexports.publicAPI=publicAPI;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}