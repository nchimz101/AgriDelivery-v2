{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nfunction getTheloggedInUser(_x) {\n  return _getTheloggedInUser.apply(this, arguments);\n}\nfunction _getTheloggedInUser() {\n  _getTheloggedInUser = _asyncToGenerator(function* (callback) {\n    try {\n      var userJSON = yield AsyncStorage.getItem('user', null);\n      if (userJSON !== null) {\n        callback(JSON.parse(userJSON));\n      } else {\n        callback(JSON.parse(null));\n      }\n    } catch (error) {\n      callback(null);\n    }\n  });\n  return _getTheloggedInUser.apply(this, arguments);\n}\nexports.getTheloggedInUser = getTheloggedInUser;\nfunction setLoggedInUser(_x2, _x3) {\n  return _setLoggedInUser.apply(this, arguments);\n}\nfunction _setLoggedInUser() {\n  _setLoggedInUser = _asyncToGenerator(function* (user, callback) {\n    console.log(\"passed token \" + user.token);\n    yield AsyncStorage.setItem('token', user.token);\n    user.userToken = user.token;\n    yield AsyncStorage.setItem('user', JSON.stringify(user));\n    callback(true);\n  });\n  return _setLoggedInUser.apply(this, arguments);\n}\nexports.setLoggedInUser = setLoggedInUser;\nfunction logout(_x4) {\n  return _logout.apply(this, arguments);\n}\nfunction _logout() {\n  _logout = _asyncToGenerator(function* (callback) {\n    try {\n      yield AsyncStorage.removeItem('token');\n      yield AsyncStorage.removeItem('user');\n      callback(true);\n    } catch (error) {\n      callback(false);\n    }\n  });\n  return _logout.apply(this, arguments);\n}\nexports.logout = logout;","map":{"version":3,"names":["AsyncStorage","getTheloggedInUser","callback","userJSON","getItem","JSON","parse","error","exports","setLoggedInUser","user","console","log","token","setItem","userToken","stringify","logout","removeItem"],"sources":["C:/Users/munya/OneDrive/Desktop/.EXE/app2/services/user.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\nasync function getTheloggedInUser(callback) {\n     try {\n       var userJSON = await AsyncStorage.getItem('user',null);\n       if (userJSON !== null) {\n        callback(JSON.parse(userJSON));\n       }else{\n        callback(JSON.parse(null));\n       }\n     } catch (error) {\n       // Error retrieving data\n       callback(null);\n     }\n\n    }\nexports.getTheloggedInUser=getTheloggedInUser;\n\nasync function setLoggedInUser(user,callback){\n  console.log(\"passed token \"+user.token);\n  await AsyncStorage.setItem('token',user.token);\n  user.userToken=user.token;\n  await AsyncStorage.setItem('user',JSON.stringify(user));\n  callback(true);\n}\nexports.setLoggedInUser=setLoggedInUser;\n\nasync function logout(callback){\n  try {\n    await AsyncStorage.removeItem('token');\n    await AsyncStorage.removeItem('user');\n    callback(true);\n  } catch (error) {\n    // Error retrieving data\n    callback(false);\n  }\n}\nexports.logout=logout;\n"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAAC,SAEtDC,kBAAkB;EAAA;AAAA;AAAA;EAAA,wCAAjC,WAAkCC,QAAQ,EAAE;IACvC,IAAI;MACF,IAAIC,QAAQ,SAASH,YAAY,CAACI,OAAO,CAAC,MAAM,EAAC,IAAI,CAAC;MACtD,IAAID,QAAQ,KAAK,IAAI,EAAE;QACtBD,QAAQ,CAACG,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,CAAC;MAC/B,CAAC,MAAI;QACJD,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MAEdL,QAAQ,CAAC,IAAI,CAAC;IAChB;EAED,CAAC;EAAA;AAAA;AACLM,OAAO,CAACP,kBAAkB,GAACA,kBAAkB;AAAC,SAE/BQ,eAAe;EAAA;AAAA;AAAA;EAAA,qCAA9B,WAA+BC,IAAI,EAACR,QAAQ,EAAC;IAC3CS,OAAO,CAACC,GAAG,CAAC,eAAe,GAACF,IAAI,CAACG,KAAK,CAAC;IACvC,MAAMb,YAAY,CAACc,OAAO,CAAC,OAAO,EAACJ,IAAI,CAACG,KAAK,CAAC;IAC9CH,IAAI,CAACK,SAAS,GAACL,IAAI,CAACG,KAAK;IACzB,MAAMb,YAAY,CAACc,OAAO,CAAC,MAAM,EAACT,IAAI,CAACW,SAAS,CAACN,IAAI,CAAC,CAAC;IACvDR,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;EAAA;AAAA;AACDM,OAAO,CAACC,eAAe,GAACA,eAAe;AAAC,SAEzBQ,MAAM;EAAA;AAAA;AAAA;EAAA,4BAArB,WAAsBf,QAAQ,EAAC;IAC7B,IAAI;MACF,MAAMF,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC;MACtC,MAAMlB,YAAY,CAACkB,UAAU,CAAC,MAAM,CAAC;MACrChB,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MAEdL,QAAQ,CAAC,KAAK,CAAC;IACjB;EACF,CAAC;EAAA;AAAA;AACDM,OAAO,CAACS,MAAM,GAACA,MAAM"},"metadata":{},"sourceType":"module"}